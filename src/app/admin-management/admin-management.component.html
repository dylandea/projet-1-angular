<div class="flex justify-center flex-col items-center">
    <div class="text-center py-5">
        <h1>Bienvenu 'Admin'</h1> <!-- modifier admin par le nom de l'admin connecter -->
        <br>
        <div>
            <p>Que désirez vous faire ?</p>
        </div>
    </div>


    <ng-container><!-- container pour afficher la liste des formation avec bouton modication et suppresion -->
        <section class="bg-white dark:bg-gray-900">
            <div class="max-w-5xl mx-auto p-8">
                <div class="">
                    <button type="button"
                        class="text-white bg-gradient-to-r from-green-400 via-green-500 to-green-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-green-300 dark:focus:ring-green-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center mr-2 mb-2">Ajouter
                        une formation</button>
                </div>
                <ng-container *ngIf="listTrainings">
                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y-2 divide-gray-200 text-sm">
                            <thead>
                                <tr>
                                    <th class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900">ID</th>
                                    <th class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900">NOM</th>
                                    <th class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900">
                                        DESCRIPTION</th>
                                    <th class="whitespace-nowrap px-4 py-2 text-left font-medium text-gray-900">PRIX
                                    </th>
                                    <th class="px-4 py-2"></th>
                                    <th class="px-4 py-2"></th>
                                </tr>
                            </thead>

                            <tbody class="divide-y divide-gray-200">
                                <tr *ngFor="let training of listTrainings" class="odd:bg-slate-200">
                                    <td class="whitespace-nowrap px-4 py-2 font-medium text-gray-900">{{ training.id }}
                                    </td>
                                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ training.name }}</td>
                                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ training.description }}
                                    </td>
                                    <td class="whitespace-nowrap px-4 py-2 text-gray-700">{{ training.price }}€</td>
                                    <td class="whitespace-nowrap px-4 py-2">
                                        <a
                                            class="inline-block rounded bg-yellow-600 transition hover:bg-yellow-700 px-4 py-2 text-xs font-medium text-white">Modifier</a>
                                    </td>
                                    <td class="whitespace-nowrap px-4 py-2">
                                        <a class="inline-block rounded bg-red-600 transition hover:bg-red-700 px-4 py-2 text-xs font-medium text-white"
                                            (click)="deleteTraining(training.id)">Supprimer</a>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </ng-container>
            </div>
        </section>
    </ng-container>

    <ng-container><!-- container pour la création d'une nouvelle formation -->
        <div class="text-center py-5">
            <H2>Création d'une nouvelle formation</H2>
            <p>Merci d'indiquer tous les champs.</p>
            <form class="w-full max-w-lg py-5" (submit)="addTraining(training)" #fAdd="ngForm">
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full md:w-1/2 px-3 mb-6 md:mb-0">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagId">
                            Id :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagId" type="number" placeholder="001" name="addTrainingId"
                            [(ngModel)]="training.id" required>
                    </div>
                    <div class="w-full md:w-1/2 px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagName">
                            Nom de la formation :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagName" type="text" placeholder="Java" name="addTrainingName"
                            [(ngModel)]="training.name" required>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagDesc">
                            Description :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagDesc" type="text" placeholder="Formation JAva SE8 sur 5 jours"
                            name="addTrainingDescription" [(ngModel)]="training.description" required>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagPrice">
                            Prix :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagPrice" type="number" placeholder="1000" name="addTrainingPrice"
                            [(ngModel)]="training.price" required>
                    </div>
                </div>
                <button type="button"
                    class="focus:outline-none text-white bg-green-700 hover:bg-green-800 focus:ring-4 focus:ring-green-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-green-600 dark:hover:bg-green-700 dark:focus:ring-green-800"
                    [disabled]="!fAdd.valid" (click)="addTraining(training)">Ajouter
                    la formation</button>
            </form>
        </div>
    </ng-container>

    <ng-container> <!--formulaire pour modifier une formation -->
        <div class="text-center py-5">
            <H2>Modification d'une formation</H2>
            <p>Merci de modifier les champs voulu.</p>
            <form class="w-full max-w-lg py-5" (submit)="updateTraining(training)" #fAdd="ngForm">
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagName">
                            Nom de la formation :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagName" type="text" placeholder="Java" name="updateTrainingName"
                            [(ngModel)]="training.name" required>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagDesc">
                            Description :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagDesc" type="text" placeholder="Formation JAva SE8 sur 5 jours"
                            name="updateTrainingDescription" [(ngModel)]="training.description" required>
                    </div>
                </div>
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagPrice">
                            Prix :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-gray-200 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white focus:border-gray-500"
                            id="adminManagPrice" type="number" placeholder="1000" name="updateTrainingPrice"
                            [(ngModel)]="training.price" required>
                    </div>
                </div>
                <button type="button"
                    class="focus:outline-none text-white bg-yellow-400 hover:bg-yellow-500 focus:ring-4 focus:ring-yellow-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:focus:ring-yellow-900"
                    (click)="updateTraining(training)">Modifier
                    la formation</button>
            </form>
        </div>
    </ng-container>

    <ng-container><!-- container pour la suppression d'une formation -->
        <div class="text-center py-5">
            <H2>Supprimer une formation</H2>
            <p>Merci d'indiquez l'id de la formation à supprimer</p>
            <form class="w-full max-w-lg">
                <div class="flex flex-wrap -mx-3 mb-6">
                    <div class="w-full px-3 mb-6 md:mb-0">
                        <label class="block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2"
                            for="adminManagId">
                            Id :
                        </label>
                        <input
                            class="appearance-none block w-full bg-gray-200 text-gray-700 border border-red-500 rounded py-3 px-4 mb-3 leading-tight focus:outline-none focus:bg-white"
                            id="adminManagId" type="number" placeholder="001" name="IdToDelete"
                            [(ngModel)]="trainingIdToDelete">
                    </div>
                </div>
            </form>
            <button type="button"
                class="focus:outline-none text-white bg-red-700 hover:bg-red-800 focus:ring-4 focus:ring-red-300 font-medium rounded-lg text-sm px-5 py-2.5 mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900"
                (click)="deleteTraining(trainingIdToDelete)">Supprimer
                la formation</button>
        </div>
    </ng-container>
</div>